
<!-- ä¼´ä¾£è¯·æ±‚åˆ—è¡¨ç»„ä»¶ -->
<view class="modal" wx:if="{{show}}">
  <view class="modal-mask" bindtap="closeModal"></view>
  <view class="modal-content">
    <view class="modal-header">
      <text class="modal-title">ä¼´ä¾£é‚€è¯·</text>
      <view class="close-btn" bindtap="closeModal">âœ•</view>
    </view>

    <view class="requests-list" wx:if="{{!loading}}">
      <view class="empty" wx:if="{{requests.length === 0}}">
        <text class="empty-icon">ğŸ“­</text>
        <text class="empty-text">æš‚æ— å¾…å¤„ç†çš„é‚€è¯·</text>
      </view>

      <view class="request-item" wx:for="{{requests}}" wx:key="_id">
        <view class="request-info">
          <view class="user-name">{{item.fromUserName || item.fromUserPhone}}</view>
          <view class="request-detail">
            <text class="detail-label">æ‰‹æœºå·ï¼š</text>
            <text class="detail-value">{{item.fromUserPhone}}</text>
          </view>
          <view class="request-detail">
            <text class="detail-label">æ‹çˆ±å¼€å§‹ï¼š</text>
            <text class="detail-value">{{item.loveStartDate}}</text>
          </view>
        </view>

        <view class="request-actions">
          <button 
            class="reject-btn" 
            bindtap="rejectRequest" 
            data-request="{{item}}"
          >
            æ‹’ç»
          </button>
          <button 
            class="accept-btn" 
            bindtap="acceptRequest" 
            data-request="{{item}}"
          >
            æ¥å—
          </button>
        </view>
      </view>
    </view>

    <view class="loading" wx:if="{{loading}}">
      <text>åŠ è½½ä¸­...</text>
    </view>
  </view>
</view>